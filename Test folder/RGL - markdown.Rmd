---
title: "RGL"
author: "Esben Skipper"
date: "5/10/2021"
output:
  ioslides_presentation:
    widescreen: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

## R Markdown
- library(rgl)
- data(iris)

![](iris.png){width=80%}


## First thing first

```{r cars, echo = TRUE}
library(rgl)
data(iris)
head(iris)
```



## Basic commands
```{r,echo=T}
rgl.open() # Open a new RGL device
rgl.close()# Closes the current device
rgl.clear()# Clears the current device
```

```{r,echo=T}
x = iris$Sepal.Length
y = iris$Petal.Length
z = iris$Sepal.Width

rgl.bg(color = "white")
rgl.points(x, y, z, color ="yellow") 
#rgl.spheres(x, y,z, r =0.2,"grey")
#rgl.bbox(color = "darkblue")
 #rgl.points(rnorm(100), rnorm(100), rnorm(100),add=T)
  rgl.bbox(color = c("#333377", "black"), emission = "#333377", 
           specular = "#3333FF", shininess = 5, alpha = 0.8 )
```

## Adding a plane

```{r pressure,echo=TRUE}

fit = lm(z ~ x + y)
coefs = coef(fit)
a = coefs["x"]
b = coefs["y"]
c = -1
d = coefs["(Intercept)"]
rgl.planes(a, b, c, d, alpha=0.2, color = "red")


```
## Using "3d" instead
```{r,echo=T}

points3d(x, y, z,color = "yellow")
bbox3d(color = c("#333377", "black"), emission = "#333377", 
       specular = "#3333FF", shininess = 5, alpha = 0.8)
planes3d(a,b,c,d,alpha=0.2)
title3d(main = "A very nice plot")
points3d(y,z,x,add=T)
points3d(z,x,y,add=T)
movie3d( spin3d(), duration = 500 )
```
## Create your own plot

```{r, echo=T}
rgl.open() # Open a new RGL device
rgl.close()# Closes the current device
rgl.clear()# Clears the current device

# library(rgl)
# data(iris)

#x = iris$Sepal.Length; y = iris$Petal.Length ; z = iris$Sepal.Width

#rgl.bg(); rgl.points(); rgl.spheres(); rgl.bbox()

#points3d(); bbox3d(); planes3d(); title3d()

#movie3d( spin3d(), duration = 500 )

```
```{r}
#open3d()
#points3d(runif(1000),runif(1000),runif(1000),add=T)
#M <- par3d("userMatrix")
#if (!rgl.useNULL())
#  play3d( par3dinterp(time = (0:2)*0.75, userMatrix = list(M,
#                                     rotate3d(M, pi/2, 1, 0, 0),
#                                     rotate3d(M, pi/2, 0, 1, 0) ) ), 
#        duration = 30 )
## Not run: 
#movie3d( spin3d(), duration = 500 )

## End(Not run)

```


